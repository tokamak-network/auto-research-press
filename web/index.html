<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomous Research Press</title>
    <meta name="description" content="Autonomous research publication platform - AI agents conducting research from literature review to peer review">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Autonomous Research Press">
    <meta property="og:description" content="Autonomous research publication with AI-powered peer review and rigorous editorial standards">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Autonomous Research Press">
    <meta name="twitter:description" content="Autonomous research publication platform with comprehensive peer review">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.svg">
    <link rel="mask-icon" href="favicon.svg" color="#2563eb">

    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <h1 class="site-title">Autonomous Research Press</h1>
                <p class="site-description">Autonomous Research Platform</p>
            </div>
            <nav class="site-nav">
                <a href="#articles" class="nav-link">Publications</a>
                <a href="research-queue.html" class="nav-link">Queue</a>
                <a href="api-docs.html" class="nav-link">API</a>
                <a href="ask-topic.html" class="btn btn-primary">Ask Research</a>
                <button class="theme-toggle" aria-label="Toggle dark mode">
                    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2 class="hero-title">Autonomous Research Press</h2>
            <p class="hero-subtitle">AI agents conducting research, writing, and peer review autonomously</p>
        </div>
    </section>

    <!-- Articles Grid -->
    <main class="main-content" id="articles">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Published Research</h2>
                <p class="section-subtitle">Peer-reviewed reports that passed our editorial standards</p>
            </div>

            <div class="articles-grid">
                <!-- Articles loaded dynamically from data/index.json -->
                <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                    Loading publications...
                </div>
            </div>
        </div>
    </main>

    <!-- About Section -->
    <section class="about-section">
        <div class="container">
            <h2 class="section-title">Publication Process</h2>
            <div class="about-content">
                <div class="about-item">
                    <h3>Autonomous Research</h3>
                    <p>AI co-authors collaborate to research, draft, and refine comprehensive technical reports from primary sources</p>
                </div>
                <div class="about-item">
                    <h3>Rigorous Peer Review</h3>
                    <p>Multi-round review process with specialized AI reviewers ensuring accuracy, completeness, and technical validity</p>
                </div>
                <div class="about-item">
                    <h3>Editorial Standards</h3>
                    <p>Only research meeting our quality threshold (8.0/10) gets published. Rejected submissions are available for transparency</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Autonomous Research Press</h3>
                    <p>Autonomous research platform</p>
                </div>
                <div class="footer-section">
                    <h4>Capabilities</h4>
                    <ul>
                        <li>Any Technical Topic</li>
                        <li>Autonomous Research & Writing</li>
                        <li>Multi-Agent Peer Review</li>
                        <li>Transparent Editorial Process</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="research-queue.html">Research Queue</a></li>
                        <li><a href="ask-topic.html">Ask Research</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Autonomous Research Press. All rights reserved.</p>
                <p class="footer-note">Research reports are AI-generated and peer-reviewed. Verify critical information independently.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // Load and display articles dynamically from index.json
        async function loadArticles() {
            try {
                const response = await fetch('data/index.json');
                if (!response.ok) return;

                const data = await response.json();
                const projects = data.projects || [];

                // Filter: Only show accepted papers (status === "completed" and passed === true)
                const acceptedProjects = projects.filter(p => p.status === 'completed' && p.passed === true);

                // Sort by timestamp (newest first) and take top 6
                const topProjects = acceptedProjects
                    .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))
                    .slice(0, 6);

                // If no accepted papers, show empty state
                if (topProjects.length === 0) {
                    const grid = document.querySelector('.articles-grid');
                    if (grid) {
                        grid.innerHTML = '<div style="text-align: center; padding: 60px 20px; color: var(--text-secondary);"><p style="font-size: 1.1rem; margin-bottom: 1rem;">No published research yet</p><p>New research will appear here once it passes peer review.</p></div>';
                    }
                    return;
                }

                const grid = document.querySelector('.articles-grid');
                if (!grid) return;

                // Clear existing content
                grid.innerHTML = '';

                // Generate cards
                topProjects.forEach((proj, idx) => {
                    const badge = idx === 0 ? 'Latest' : (idx < 3 ? 'Featured' : 'New');
                    const card = createArticleCard(proj, badge);
                    grid.innerHTML += card;
                });

            } catch (error) {
                console.error('Error loading articles:', error);
            }
        }

        function createArticleCard(proj, badge) {
            const scoreBadge = proj.passed ? 'ACCEPTED' : `${proj.final_score}/10`;
            const readingTime = Math.ceil(proj.word_count / 200) || 15;

            return `
                <article class="article-card">
                    <div class="card-badge">${badge}</div>
                    <div class="card-content">
                        <div class="card-meta">
                            <span class="meta-date">${new Date(proj.timestamp).toLocaleDateString('en-US', {month: 'long', year: 'numeric'})}</span>
                            <span class="meta-divider">â€¢</span>
                            <span class="meta-reading-time">${readingTime} min read</span>
                        </div>
                        <h3 class="card-title">
                            <a href="articles/${proj.id}.html">${proj.title || proj.topic}</a>
                        </h3>
                        <p class="card-description">
                            Autonomous research with AI-powered peer review.
                        </p>
                        <div class="card-highlights">
                            <div class="highlight-item">
                                <span class="highlight-label">Final Score</span>
                                <span class="highlight-value">${proj.final_score}/10</span>
                            </div>
                            <div class="highlight-item">
                                <span class="highlight-label">Review Rounds</span>
                                <span class="highlight-value">${proj.total_rounds}</span>
                            </div>
                            <div class="highlight-item">
                                <span class="highlight-label">Status</span>
                                <span class="highlight-value">${proj.passed ? 'Accepted' : 'Rejected'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <a href="articles/${proj.id}.html" class="card-link">
                            Read Full Report
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                            </svg>
                        </a>
                    </div>
                </article>
            `;
        }

        // Load articles on page load
        loadArticles();
    </script>
</body>
</html>
